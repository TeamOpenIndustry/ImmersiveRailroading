import cam72cam.universalmodcore.Util;

apply plugin: 'groovy'

buildscript {
    repositories {
        jcenter()
        maven { url uri(".umc") }
    }
	dependencies {
        classpath 'cam72cam.universalmodcore:UniversalModCoreGradle:0.1.2'
	}
}

apply plugin: 'cam72cam.universalmodcore'

universalmodcore {
    modPackage = 'cam72cam.immersiverailroading'
    modClass = 'ImmersiveRailroading'
    modName = 'Immersive Railroading'
    modId = 'immersiverailroading'
    modVersion = '1.7.3'
    umcVersion = '0.1.0'
}

task ('umcIntegration') {
    doLast {
        String umcLoader = System.getProperty("umc.loader")
        Util.GitClone("git@github.com:TeamOpenIndustry/ImmersiveRailroadingIntegration.git", umcLoader, "ImmersiveRailroadingIntegration");
        apply from: 'ImmersiveRailroadingIntegration/setup.gradle'
    }
}

umc.finalizedBy umcIntegration

if ((new File('umc.gradle')).exists()) {
    apply from: 'umc.gradle'
    apply from: 'ImmersiveRailroadingIntegration/dependencies.gradle'
}

dependencies {
    testCompile group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.7.0-M1'
    testCompile group: 'org.spockframework', name: 'spock-core', version: '2.0-M3-groovy-3.0'
}
